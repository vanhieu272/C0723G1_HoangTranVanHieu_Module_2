<component name="CopyrightManager">
  <copyright>
    <option name="notice" value="import java.util.List;&#10;import java.util.Scanner;&#10;import java.util.regex.Matcher;&#10;import java.util.regex.Pattern;&#10;&#10;public class MovieTicketsManagement {&#10;    private final MovieTicketsController movieTicketsController = new MovieTicketsController();&#10;    private final String regexID = &quot;^MV-[0-9]{4}&quot;;&#10;&#10;    private final Scanner scanner = new Scanner(System.in);&#10;&#10;    public boolean validate(String string, String regex) {&#10;        Pattern pattern = Pattern.compile(regex);&#10;        Matcher matcher = pattern.matcher(string);&#10;        return matcher.matches();&#10;    }&#10;&#10;    public void manage() {&#10;        do {&#10;            showMenu();&#10;            int choice = choiceOption(1, 5);&#10;            switch (choice) {&#10;                case 1:&#10;                    MovieTicket movieTicket = addTicket();&#10;                    if (movieTicket != null) {&#10;                        movieTicketsController.create(movieTicket);&#10;                        System.out.println(&quot;Add successful !!&quot;);&#10;                    }&#10;                    break;&#10;                case 2:&#10;                    displayTicket();&#10;                    break;&#10;                case 3:&#10;                    String ticketID = removeTicket();&#10;                    if(ticketID != null){&#10;                        movieTicketsController.remove(ticketID);&#10;                        System.out.println(&quot;Delete successful!!&quot;);&#10;                    }&#10;                    break;&#10;                case 4:&#10;                    List&lt;MovieTicket&gt; movieTickets = movieTicketsController.sortByPrice();&#10;                    if(movieTickets.isEmpty()){&#10;                        System.out.println(&quot;List tickets is empty!!&quot;);&#10;                    }else {&#10;                        for(MovieTicket movieTicket1 : movieTickets){&#10;                            System.out.println(movieTicket1);&#10;                        }&#10;                    }&#10;                    break;&#10;                case 5:&#10;                    MovieTicket movieTicket1 = editTicket();&#10;                    if (movieTicket1 != null) {&#10;                        movieTicketsController.update(movieTicket1);&#10;                    }&#10;                    break;&#10;            }&#10;        } while (true);&#10;    }&#10;&#10;&#10;    private void showMenu() {&#10;        System.out.println(&quot;====== Movie Ticket Management ======&quot;);&#10;        System.out.println(&quot;1. Add new ticket&quot;);&#10;        System.out.println(&quot;2. Display all tickets&quot;);&#10;        System.out.println(&quot;3. Delete ticket&quot;);&#10;        System.out.println(&quot;4. Sort ticket (by price)&quot;);&#10;        System.out.println(&quot;5 .Edit ticket&quot;);&#10;    }&#10;&#10;    private String inputTicketID() {&#10;        String ticketID;&#10;        do {&#10;            System.out.println(&quot;Please enter ticket ID: &quot;);&#10;            ticketID = scanner.nextLine();&#10;            if (!validate(ticketID, regexID)) {&#10;                System.out.println(&quot;Ticket ID format not true. Try again!!&quot;);&#10;            } else {&#10;                return ticketID;&#10;            }&#10;        } while (true);&#10;    }&#10;&#10;    private boolean checkTicketID(String ticketID) {&#10;        List&lt;MovieTicket&gt; movieTickets = movieTicketsController.getAll();&#10;        for (MovieTicket movieTicket : movieTickets) {&#10;            if (movieTicket.getTicketID().equals(ticketID)) {&#10;                return true;&#10;            }&#10;        }&#10;        return false;&#10;    }&#10;&#10;    private int choiceOption(int low, int high) {&#10;        int choice = 0;&#10;        do {&#10;            try {&#10;                System.out.println(&quot;Enter your choice: &quot;);&#10;                choice = Integer.parseInt(scanner.nextLine());&#10;                if (choice &lt; low || choice &gt; high) {&#10;                    System.out.println(&quot;Invalid. Please enter again!!&quot;);&#10;                }&#10;            } catch (NumberFormatException e) {&#10;                System.out.println(&quot;Invalid !!&quot;);&#10;            }&#10;        } while (choice &lt; low || choice &gt; high);&#10;        return choice;&#10;    }&#10;&#10;    private String inputMovieName() {&#10;        String movieName;&#10;        do {&#10;            try {&#10;                System.out.println(&quot;Enter movie's name: &quot;);&#10;                movieName = scanner.nextLine();&#10;                return movieName;&#10;            } catch (NullPointerException e) {&#10;                System.out.println(&quot;Name can't be null&quot;);&#10;            }&#10;        } while (true);&#10;    }&#10;&#10;    private String chooseTicketPrice() {&#10;        while (true) {&#10;            System.out.println(&quot;Choose type of ticket: &quot;);&#10;            System.out.println(&quot;1. VIP+COMBO FOOD: 400000&quot;);&#10;            System.out.println(&quot;2. VIP: 200000&quot;);&#10;            System.out.println(&quot;3. NORMAL+COMBO FOOD : 300000&quot;);&#10;            System.out.println(&quot;4. NORMAL: 150000&quot;);&#10;            int choice = choiceOption(1, 4);&#10;            switch (choice) {&#10;                case 1:&#10;                    return &quot;400000&quot;;&#10;                case 2:&#10;                    return &quot;200000&quot;;&#10;                case 3:&#10;                    return &quot;300000&quot;;&#10;                case 4:&#10;                    return &quot;150000&quot;;&#10;            }&#10;        }&#10;    }&#10;&#10;    private String chooseShowing() {&#10;&#10;        while (true) {&#10;            System.out.println(&quot;Choose show: &quot;);&#10;            System.out.println(&quot;1. Show 1&quot;);&#10;            System.out.println(&quot;2. Show 2&quot;);&#10;            System.out.println(&quot;3. Show 3&quot;);&#10;            System.out.println(&quot;4. Show 4&quot;);&#10;            int choice = choiceOption(1, 4);&#10;            switch (choice) {&#10;                case 1:&#10;                    return &quot;1&quot;;&#10;                case 2:&#10;                    return &quot;2&quot;;&#10;                case 3:&#10;                    return &quot;3&quot;;&#10;                case 4:&#10;                    return &quot;4&quot;;&#10;            }&#10;        }&#10;    }&#10;&#10;    private String chooseDate() {&#10;&#10;        while (true) {&#10;            System.out.println(&quot;Choose day: &quot;);&#10;            System.out.println(&quot;1. Sunday&quot;);&#10;            System.out.println(&quot;2. Monday&quot;);&#10;            System.out.println(&quot;3. Tuesday&quot;);&#10;            System.out.println(&quot;4. Wednesday&quot;);&#10;            System.out.println(&quot;5. Thursday&quot;);&#10;            System.out.println(&quot;6. Friday&quot;);&#10;            System.out.println(&quot;7. Saturday&quot;);&#10;            int choice = choiceOption(1, 7);&#10;            switch (choice) {&#10;                case 1:&#10;                    return &quot;Sunday&quot;;&#10;                case 2:&#10;                    return &quot;Monday&quot;;&#10;                case 3:&#10;                    return &quot;Tuesday&quot;;&#10;                case 4:&#10;                    return &quot;Wednesday&quot;;&#10;                case 5:&#10;                    return &quot;Thursday&quot;;&#10;                case 6:&#10;                    return &quot;Friday&quot;;&#10;                case 7:&#10;                    return &quot;Saturday&quot;;&#10;            }&#10;        }&#10;    }&#10;&#10;    private MovieTicket addTicket() {&#10;        String ticketID = inputTicketID();&#10;        if (checkTicketID(ticketID)) {&#10;            System.out.println(&quot;This ID is exist&quot;);&#10;            return null;&#10;        } else {&#10;            return new MovieTicket(ticketID, inputMovieName(), Float.parseFloat(chooseTicketPrice()), chooseShowing(), chooseDate());&#10;        }&#10;    }&#10;&#10;    private void displayTicket() {&#10;        List&lt;MovieTicket&gt; movieTickets = movieTicketsController.getAll();&#10;        if (movieTickets.isEmpty()) {&#10;            System.out.println(&quot;List is empty!!&quot;);&#10;        } else {&#10;            for (MovieTicket movieTicket : movieTickets) {&#10;                System.out.println(movieTicket);&#10;            }&#10;        }&#10;    }&#10;&#10;    private MovieTicket editTicket() {&#10;        String ticketID = inputTicketID();&#10;        List&lt;MovieTicket&gt; movieTickets = movieTicketsController.getAll();&#10;        if (!checkTicketID(ticketID)) {&#10;            System.out.println(&quot;ID not found!!&quot;);&#10;            return null;&#10;        } else {&#10;            for (MovieTicket movieTicket : movieTickets) {&#10;                if (movieTicket.getTicketID().equals(ticketID)) {&#10;                    do {&#10;                        System.out.println(&quot;Choose information you want to edit: &quot;);&#10;                        System.out.println(&quot;1. Name&quot;);&#10;                        System.out.println(&quot;2. Price&quot;);&#10;                        System.out.println(&quot;3. Showing&quot;);&#10;                        System.out.println(&quot;4. Date&quot;);&#10;                        System.out.println(&quot;5. Done&quot;);&#10;                        System.out.println(&quot;6. Cancel&quot;);&#10;                        int choice = choiceOption(1, 6);&#10;                        switch (choice) {&#10;                            case 1:&#10;                                movieTicket.setMovieName(inputMovieName());&#10;                                break;&#10;                            case 2:&#10;                                movieTicket.setPrice(Float.parseFloat(chooseTicketPrice()));&#10;                                break;&#10;                            case 3:&#10;                                movieTicket.setShowing(chooseShowing());&#10;                                break;&#10;                            case 4:&#10;                                movieTicket.setDate(chooseDate());&#10;                                break;&#10;                            case 5:&#10;                                System.out.println(&quot;Edited successful!!&quot;);&#10;                                return movieTicket;&#10;&#10;                            case 6:&#10;                                return null;&#10;                        }&#10;                    } while (true);&#10;                }&#10;            }&#10;        }&#10;        return null;&#10;    }&#10;&#10;    private String removeTicket() {&#10;        String ticketID = inputTicketID();&#10;        if (!checkTicketID(ticketID)) {&#10;            System.out.println(&quot;ID not found!!&quot;);&#10;            return null;&#10;        } else {&#10;                System.out.println(&quot;Found ID '&quot; + ticketID + &quot;'&quot;);&#10;                System.out.println(&quot;Are you sure want to delete this ticket?&quot;&#10;                        + &quot;\n1. Yes&quot;&#10;                        + &quot;\n2. No&quot;);&#10;                int choice = choiceOption(1, 2);&#10;                switch (choice) {&#10;                    case 1:&#10;                        return ticketID;&#10;                    case 2:&#10;                        return null;&#10;                }&#10;        }&#10;        return null;&#10;    }" />
    <option name="myName" value="fullview" />
  </copyright>
</component>